#ifndef HT1621_H
#define HT1621_H

#include <stdint.h>
#include <stdbool.h>

/* Zone definition (เน€เธ�โ€ขเน€เธ�เธ’เน€เธ�เธ�เน€เธ�โ€”เน€เธ�เธ•เน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�เธ�เน€เธ�โ€�เน€เธ�๏ฟฝเน€เธ�เธ“เน€เธ�เธ�เน€เธ�๏ฟฝเน€เธ�โ€�) */
typedef enum {
    LCD_ZONE_INPUT = 0,   // addr 0..9
    LCD_ZONE_CENTER,      // addr 10..14
    LCD_ZONE_OUTPUT,      // addr 15..22
    LCD_ZONE_MINIC        // addr 23..31
} LcdZone;

/* Public APIs */
void LCD_Init(void);                     // เน€เธ�โ�ฌเน€เธ�เธ�เน€เธ�เธ•เน€เธ�เธ�เน€เธ�๏ฟฝเน€เธ�เธ�เน€เธ�เธ…เน€เธ�เธ‘เน€เธ�๏ฟฝ HT1621_Init() เน€เธ�เธ�เน€เธ�เธ�เน€เธ�เธ—เน€เธ�เธ�เน€เธ�เธ�เน€เธ�เธ�เน€เธ�เธ�เน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�เธ•เน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�๏ฟฝ
void LCD_ZoneRequest(LcdZone z);         // เน€เธ�๏ฟฝเน€เธ�เธ� refresh เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�เธ’เน€เธ�เธ�เน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�๏ฟฝ
void LCD_Service(void);                  // เน€เธ�โ�ฌเน€เธ�เธ�เน€เธ�เธ•เน€เธ�เธ�เน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�๏ฟฝ main loop เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�เธ—เน€เธ�๏ฟฝเน€เธ�เธ� refresh เน€เธ�โ€ขเน€เธ�เธ’เน€เธ�เธ� flag

/* High-level display */
void LCD_SetDigit(uint8_t digit_id, int8_t value, bool dp_on); // digit_id: 1..8
void LCD_ShowInput3(float n);          // digit1..3
void LCD_ShowCenter2(int8_t tens, int8_t ones); // digit4..5
void LCD_ShowOutput3(float n);         // digit6..8
void LCD_Update(void);

/*
 * ================== Pin / Platform Abstraction ==================
*
 * - เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝ macro เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� set เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€� GPIO เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� HT1621:
 *      CS  : Chip Select
 *      WR  : Write Clock
 *      DATA: Serial Data
 *
 * - เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝ macro เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� output เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� init
 */

// ---------------------- PIN MAPPING ----------------------

#define HT1621_PIN_CS     59
#define HT1621_PIN_WR     57
#define HT1621_PIN_DATA   56
#define HT1621_PIN_POK  5999

// TODO: เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�/เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝ GPIO เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝ
#define HT1621_CS_HIGH()     GPIO_writePin(HT1621_PIN_CS, 1)
#define HT1621_CS_LOW()      GPIO_writePin(HT1621_PIN_CS, 0)

#define HT1621_WR_HIGH()     GPIO_writePin(HT1621_PIN_WR, 1)
#define HT1621_WR_LOW()      GPIO_writePin(HT1621_PIN_WR, 0)

#define HT1621_DATA_HIGH()   GPIO_writePin(HT1621_PIN_DATA, 1)
#define HT1621_DATA_LOW()    GPIO_writePin(HT1621_PIN_DATA, 0)

#define HT1621_POK_HIGH()   GPIO_writePin(HT1621_PIN_POK, 1)
#define HT1621_POK_LOW()    GPIO_writePin(HT1621_PIN_POK, 0)

// TODO: เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€� GPIO เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� output
#define HT1621_CONFIG_PINS() do {                          \
    /* config CS pin as output */                          \
    /* config WR pin as output */                          \
    /* config DATA pin as output */                        \
} while(0)

/*
 * เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� C2000: เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� critical section เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� DINT/EINT เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�
 * เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝ interrupt เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� define macro เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� include header เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�
 */
#ifndef HT1621_ENTER_CRITICAL
  #define HT1621_ENTER_CRITICAL()   /* DINT; เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� disableGlobalInts(); */
#endif

#ifndef HT1621_EXIT_CRITICAL
  #define HT1621_EXIT_CRITICAL()    /* EINT; เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� enableGlobalInts();  */
#endif


/*
 * ================== HT1621 Configuration ==================
 *
 * - เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� address เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� HT1621: เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� 4-COM, 32*4 seg เน€เธ�๏ฟฝเน�เธ�เธ�เน�โ�ฌ๏ฟฝ 32 addresses (0..31)
 *   เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� datasheet / design เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝ
 */
//#define HT1621_MAX_ADDR   32U   /* เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€� 32; เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€”เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€� */

/* เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� HT1621 (เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝ datasheet) */
#define HT1621_CMD_SYS_DIS   0x00U  /* System disable */
#define HT1621_CMD_SYS_EN    0x01U  /* System enable  */
#define HT1621_CMD_LCD_OFF   0x02U  /* LCD off        */
#define HT1621_CMD_LCD_ON    0x03U  /* LCD on         */
#define HT1621_CMD_TIMER_DIS 0x08U
#define HT1621_CMD_WDT_DIS   0x0AU

/* Example: 1/3 bias, 4 commons, RC oscillator (เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� panel เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�) */
#define HT1621_CMD_RC_4COM_3BIAS   0x29U


#ifdef __cplusplus
extern "C" {
#endif

/* Shadow RAM เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆ (mirror RAM เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� HT1621) */
//extern uint8_t ht1621_ram[HT1621_MAX_ADDR];

/* ========== Public API ========== */

/* Initialize HT1621 (เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�) */
void HT1621_Init(void);

/* เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� command 8 เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ� เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� HT1621 */
void HT1621_Command(uint8_t cmd);

/* เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆ 4-bit เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� address เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€“เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� (LSB-first เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝ datasheet) */
void HT1621_WriteData4(uint8_t addr, uint8_t data4);

/* เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝ: เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� RAM เน€เธ�โ�ฌเน€เธ�๏ฟฝเธขย เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� HT1621 เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� shadow RAM */
void HT1621_ClearAll(void);

/* เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� shadow RAM (ht1621_ram[]) เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� HT1621 เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� */
void HT1621_RefreshAll(void);

/* Soft reset HT1621: SYS DIS เน€เธ�๏ฟฝเน�เธ�เธ�เน�โ�ฌ๏ฟฝ SYS EN เน€เธ�๏ฟฝเน�เธ�เธ�เน�โ�ฌ๏ฟฝ LCD ON + reload RAM */
void HT1621_SoftReset(void);

/*
 * Helper: set/clear bit เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€“เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� shadow RAM เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝ (option) เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ฆเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� HT1621 เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ข
 * เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� ICON เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌโ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�เธ�เธ� bit เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�๏ฟฝเธ�เน€เธ�โ�ฌเน€เธ�๏ฟฝเน�โ�ฌ๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�โ€ขเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝเน€เธ�โ�ฌเน€เธ�๏ฟฝเน€เธ�๏ฟฝ
 */
void HT1621_SetBit(uint8_t addr, uint8_t bit, bool on, bool writeNow);


/* -------- Input  Zone Icons -------- */
#define LCDi_WP          ((LcdSeg){ 0, 0 })
#define LCDi_AC          ((LcdSeg){ 0, 1 })
#define LCDi_PV           ((LcdSeg){ 0, 2 })
#define LCDi_INV         ((LcdSeg){ 0, 3 })

#define LCDi_INPUT   ((LcdSeg){ 1, 0 })
#define LCDi_BATT     ((LcdSeg){ 1, 1 })
#define LCDi_TEMP    ((LcdSeg){ 1, 2 })
#define LCDi_k            ((LcdSeg){ 1, 3 })

#define LCDi_Hz       ((LcdSeg){ 7, 3 })

#define LCDi_W        ((LcdSeg){ 8, 0 })
#define LCDi_A         ((LcdSeg){ 8, 1 })
#define LCDi_V         ((LcdSeg){ 8, 2 })
#define LCDi_Percent       ((LcdSeg){ 8, 3 })

/* -------- Center Zone Icons -------- */
#define LCDc_Line        ((LcdSeg){ 13, 3 })

#define LCDc_Fault          ((LcdSeg){ 14, 0 })
#define LCDc_Error          ((LcdSeg){ 14, 1 })
#define LCDc_Seting       ((LcdSeg){ 14, 2 })
#define LCDc_Clock         ((LcdSeg){ 14, 3 })

/* -------- Output  Zone Icons -------- */
#define LCDo_OUTPUT        ((LcdSeg){ 15, 0 })
#define LCDo_BATT          ((LcdSeg){ 15, 1 })
#define LCDo_LOAD       ((LcdSeg){ 15, 2 })
#define LCDo_k         ((LcdSeg){ 15, 3 })

#define LCDo_Hz         ((LcdSeg){ 21, 3 })

#define LCDo_W        ((LcdSeg){ 22, 0 })
#define LCDo_A          ((LcdSeg){ 22, 1 })
#define LCDo_V      ((LcdSeg){ 22, 2 })
#define LCDo_Percent       ((LcdSeg){ 22, 3 })

/* -------- Minic  Zone Icons -------- */

#define LCDmOVERLOAD       ((LcdSeg){ 23, 0 })
#define LCDmMute           ((LcdSeg){ 23, 1 })
#define LCDmBYPASS         ((LcdSeg){ 23, 2 })
#define LCDmLine           ((LcdSeg){ 23, 3 })

#define LCDm25p100p        ((LcdSeg){ 24, 0 })
#define LCDmLamp           ((LcdSeg){ 24, 1 })
#define LCDmLout           ((LcdSeg){ 24, 2 })
#define LCDmP              ((LcdSeg){ 24, 3 })

#define LCDmLoadLv1        ((LcdSeg){ 25, 0 })
#define LCDmLoadLv2        ((LcdSeg){ 25, 1 })
#define LCDmLoadLv3        ((LcdSeg){ 25, 2 })
#define LCDmLoadLv4        ((LcdSeg){ 25, 3 })

#define LCDmLi             ((LcdSeg){ 26, 0 })
#define LCDmSLA            ((LcdSeg){ 26, 1 })
#define LCDmINV            ((LcdSeg){ 26, 2 })
#define LCDmACtoLoad       ((LcdSeg){ 26, 3 })

#define LCDmBATTtoLoad     ((LcdSeg){ 27, 0 })
#define LCDmRECtoBATT      ((LcdSeg){ 27, 1 })
#define LCDmRECtoINV       ((LcdSeg){ 27, 2 })
#define LCDmECO            ((LcdSeg){ 27, 3 })

#define LCDmCHARGING       ((LcdSeg){ 28, 0 })
#define LCDmBATT           ((LcdSeg){ 28, 1 })
#define LCDmREC            ((LcdSeg){ 28, 2 })
#define LCDmPVtoREC        ((LcdSeg){ 28, 3 })

#define LCDmBATTLv1        ((LcdSeg){ 29, 0 })
#define LCDmBATTLv2        ((LcdSeg){ 29, 1 })
#define LCDmBATTLv3        ((LcdSeg){ 29, 2 })
#define LCDmBATTLv4        ((LcdSeg){ 29, 3 })

#define LCDmAC             ((LcdSeg){ 30, 0 })
#define LCDmWING           ((LcdSeg){ 30, 1 })
#define LCDmACtoREC        ((LcdSeg){ 30, 2 })
#define LCDmWINGtoREC      ((LcdSeg){ 30, 3 })

#define LCDmPV             ((LcdSeg){ 31, 0 })
#define LCDmPVLv3          ((LcdSeg){ 31, 1 })
#define LCDmPVLv2          ((LcdSeg){ 31, 2 })
#define LCDmPVLv1          ((LcdSeg){ 31, 3 })

#ifdef __cplusplus
}
#endif

#endif /* HT1621_H */

